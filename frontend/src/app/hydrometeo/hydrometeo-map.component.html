<div class="api-status"> <strong>Статус API:</strong> <span [class.status-online]="apiOnline" [class.status-offline]="!apiOnline" class="status-indicator"></span> <span class="api-status-text">{{ apiStatusText }}</span> </div> <div class="toolbar"> <div class="block"> <label>Регион:</label> <select [(ngModel)]="regionId" (change)=" map.getView().animate({ center: fromLonLat(regions[regionId].center), duration: 400, zoom: 5 }); "> <option value="baltic">Балтийское море</option> <option value="north_sea">Северное море</option> <option value="mediterranean">Средиземное море</option> <option value="black_sea">Чёрное море</option> <option value="arctic">Арктика</option> </select> </div> <div class="block"> <label>Lat:</label> <input type="number" [(ngModel)]="lat" step="0.01" (change)="map.getView().animate({ center: fromLonLat([lon, lat]), duration: 300 })" /> <label>Lon:</label> <input type="number" [(ngModel)]="lon" step="0.01" (change)="map.getView().animate({ center: fromLonLat([lon, lat]), duration: 300 })" /> </div> <div class="block"> <label>Фон WMTS:</label> <select [(ngModel)]="activeLayerFilter" (change)="reloadWmts()"> <option value="VHM0">Волны: VHM0</option> <option value="SST">Температура поверхности (SST)</option> <option value="CHL">Хлорофилл</option> </select> <button (click)="reloadWmts()">Перезагрузить WMTS</button> </div> <div class="block actions"> <button (click)="mode='waves'">Волны</button> <button (click)="mode='temperature'">Температура</button> <button (click)="toggleCurrents()">{{ currentsVisible ? 'Скрыть течения' : 'Показать течения' }}</button> </div> </div> <div id="map" class="map"></div> <div class="panels"> <div class="panel"> <h3>{{ seriesTitle }}</h3> <canvas id="seriesChart"></canvas> <div class="metrics"> <div class="metric"><span>Lat:</span>{{ lastPoint?.lat?.toFixed(4) }}</div> <div class="metric"><span>Lon:</span>{{ lastPoint?.lon?.toFixed(4) }}</div> <div class="metric"><span>Последнее:</span>{{ lastValueFmt }}</div> <div class="metric"><span>Ед. изм.:</span>{{ lastUnit || '—' }}</div> </div> </div> </div> ---
