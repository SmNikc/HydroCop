<div class="api-status"> <strong>Статус API:</strong> <span [class.status-online]="apiOnline" [class.status-offline]="!apiOnline" class="status-indicator"></span> <span class="api-status-text">{{apiStatusText}}</span> </div> <div class="toolbar"> <div class="block"> <label>Регион:</label> <select [(ngModel)]="regionId" (change)="applyRegion()"> <option value="baltic">Балтийское море</option> <option value="north_sea">Северное море</option> <option value="mediterranean">Средиземное море</option> <option value="black_sea">Чёрное море</option> <option value="arctic">Арктика</option> </select> </div> <div class="block"> <label>Lat:</label> <input type="number" [(ngModel)]="lat" step="0.01" (change)="recenter()"/> <label>Lon:</label> <input type="number" [(ngModel)]="lon" step="0.01" (change)="recenter()"/> <label>Глубина:</label> <select [(ngModel)]="depth"> <option value="surface">Поверхность</option> <option value="10m">10м</option> <option value="30m">30м</option> <option value="mixed_layer">Смешанный слой</option> </select> </div> <div class="block"> <label>Фоновый слой (WMTS):</label> <select [(ngModel)]="activeLayerFilter" (change)="reloadWmts()"> <option value="VHM0">Волны: VHM0</option> <option value="SST">Температура поверхности (SST)</option> <option value="ICE">Лёд (SIC/SIT)</option> <option value="CHL">Хлорофилл</option> </select> <button (click)="reloadWmts()">Перезагрузить WMTS</button> </div> <div class="block actions"> <button (click)="setMode('waves')">Волны</button> <button (click)="setMode('temperature')">Температура</button> <button (click)="setMode('ice')">Лёд</button> <button (click)="toggleCurrents()">{{currentsVisible ? 'Скрыть течения' : 'Показать течения'}}</button> </div> </div> <div id="map" class="map"></div> <div class="panels"> <div class="panel"> <h3>{{seriesTitle}}</h3> <div class="metrics"> <div class="metric"><span>Lat:</span>{{lastPoint?.lat?.toFixed(4)}}</div> <div class="metric"><span>Lon:</span>{{lastPoint?.lon?.toFixed(4)}}</div> <div class="metric" *ngIf="lastUnit"><span>Ед. изм.:</span>{{lastUnit}}</div> <div class="metric" *ngIf="iceLast"><span>Лёд, %:</span>{{iceLast.sic}}</div> <div class="metric" *ngIf="iceLast"><span>Толщина, м:</span>{{iceLast.sit}}</div> <div class="metric" *ngIf="iceLast && iceLast.drift"><span>Дрейф, м/с:</span>{{iceLast.drift}}</div> </div> <div class="alerts" *ngIf="alerts.length"> <div class="alert" *ngFor="let a of alerts">{{a}}</div> </div> <canvas id="seriesChart"></canvas> </div> </div>
